!function(t){function i(){return!!document.createElement("canvas").getContext&&"function"==typeof document.createElement("canvas").getContext("2d").fillText}function e(){var t=document.createElement("div");return void 0!==t.style.MozTransition||void 0!==t.style.OTransition||void 0!==t.style.webkitTransition||void 0!==t.style.transition}function s(t,i,e,s,o){this.axisName=t,this.position=i,this.padding=e,this.plot=s,this.opts=o,this.width=0,this.height=0}function o(t,i,e,o,a){s.prototype.constructor.call(this,t,i,e,o,a)}function a(t,i,e,o,a){s.prototype.constructor.call(this,t,i,e,o,a)}function h(t,i,e,s,o){a.prototype.constructor.call(this,t,i,e,s,o)}function l(t,i,e,s,o){h.prototype.constructor.call(this,t,i,e,s,o),this.requiresResize=!1}o.prototype=new s,o.prototype.constructor=o,o.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14),this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");this.opts.axisLabelFontSizePixels,this.padding,this.opts.axisLabelFontSizePixels,this.padding;"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)},o.prototype.draw=function(t){var i=this.plot.getCanvas().getContext("2d");i.save(),i.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily;var e,s,o=i.measureText(this.opts.axisLabel).width,a=this.opts.axisLabelFontSizePixels,h=0;"top"==this.position?(e=t.left+t.width/2-o/2,s=t.top+.72*a):"bottom"==this.position?(e=t.left+t.width/2-o/2,s=t.top+t.height-.72*a):"left"==this.position?(e=t.left+.72*a,s=t.height/2+t.top+o/2,h=-Math.PI/2):"right"==this.position&&(e=t.left+t.width-.72*a,s=t.height/2+t.top-o/2,h=Math.PI/2),i.translate(e,s),i.rotate(h),i.fillText(this.opts.axisLabel,0,0),i.restore()},a.prototype=new s,a.prototype.constructor=a,a.prototype.calculateSize=function(){var i=t('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(i),this.labelWidth=i.outerWidth(!0),this.labelHeight=i.outerHeight(!0),i.remove(),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding},a.prototype.draw=function(i){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove();var e=t('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(e),"top"==this.position?(e.css("left",i.left+i.width/2-this.labelWidth/2+"px"),e.css("top",i.top+"px")):"bottom"==this.position?(e.css("left",i.left+i.width/2-this.labelWidth/2+"px"),e.css("top",i.top+i.height-this.labelHeight+"px")):"left"==this.position?(e.css("top",i.top+i.height/2-this.labelHeight/2+"px"),e.css("left",i.left+"px")):"right"==this.position&&(e.css("top",i.top+i.height/2-this.labelHeight/2+"px"),e.css("left",i.left+i.width-this.labelWidth+"px"))},h.prototype=new a,h.prototype.constructor=h,h.prototype.calculateSize=function(){a.prototype.calculateSize.call(this),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding},h.prototype.transforms=function(t,i,e){var s={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=i||0!=e){var o=" translate("+i+"px, "+e+"px)";s["-moz-transform"]+=o,s["-webkit-transform"]+=o,s["-o-transform"]+=o,s["-ms-transform"]+=o}if(0!=t){var a=" rotate("+t+"deg)";s["-moz-transform"]+=a,s["-webkit-transform"]+=a,s["-o-transform"]+=a,s["-ms-transform"]+=a}var h="top: 0; left: 0; ";for(var l in s)s[l]&&(h+=l+":"+s[l]+";");return h+=";"},h.prototype.calculateOffsets=function(t){var i={x:0,y:0,degrees:0};return"bottom"==this.position?(i.x=t.left+t.width/2-this.labelWidth/2,i.y=t.top+t.height-this.labelHeight):"top"==this.position?(i.x=t.left+t.width/2-this.labelWidth/2,i.y=t.top):"left"==this.position?(i.degrees=-90,i.x=t.left-this.labelWidth/2+this.labelHeight/2,i.y=t.height/2+t.top):"right"==this.position&&(i.degrees=90,i.x=t.left+t.width-this.labelWidth/2-this.labelHeight/2,i.y=t.height/2+t.top),i},h.prototype.draw=function(i){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();var e=this.calculateOffsets(i),s=t('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; '+this.transforms(e.degrees,e.x,e.y)+'">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(s)},l.prototype=new h,l.prototype.constructor=l,l.prototype.transforms=function(t,i,e){var s="";if(0!=t){for(var o=t/90;o<0;)o+=4;s+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+o+"); ",this.requiresResize="right"==this.position}return 0!=i&&(s+="left: "+i+"px; "),0!=e&&(s+="top: "+e+"px; "),s},l.prototype.calculateOffsets=function(t){var i=h.prototype.calculateOffsets.call(this,t);return"top"==this.position?i.y=t.top+1:"left"==this.position?(i.x=t.left,i.y=t.height/2+t.top-this.labelWidth/2):"right"==this.position&&(i.x=t.left+t.width-this.labelHeight,i.y=t.height/2+t.top-this.labelWidth/2),i},l.prototype.draw=function(t){if(h.prototype.draw.call(this,t),this.requiresResize){var i=this.plot.getPlaceholder().find("."+this.axisName+"Label");i.css("width",this.labelWidth),i.css("height",this.labelHeight)}},t.plot.plugins.push({init:function(s){var n=!1,r={};s.hooks.draw.push(function(s,p){n?t.each(s.getAxes(),function(t,i){var e=i.options||s.getOptions()[t]||s.getOptions();e&&e.axisLabel&&i.show&&r[t].draw(i.box)}):(t.each(s.getAxes(),function(t,n){var p=n.options||s.getOptions()[t]||s.getOptions();if(p&&p.axisLabel&&n.show){var d=null;if(p.axisLabelUseHtml||"Microsoft Internet Explorer"!=navigator.appName)d=p.axisLabelUseHtml||!e()&&!i()&&!p.axisLabelUseCanvas?a:p.axisLabelUseCanvas||!e()?o:h;else{var c=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(c)&&(rv=parseFloat(RegExp.$1)),d=rv>=9&&!p.axisLabelUseCanvas&&!p.axisLabelUseHtml?h:p.axisLabelUseCanvas||p.axisLabelUseHtml?p.axisLabelUseCanvas?o:a:l}var f=void 0===p.axisLabelPadding?2:p.axisLabelPadding;r[t]=new d(t,n.position,f,s,p),r[t].calculateSize(),n.labelHeight+=r[t].height,n.labelWidth+=r[t].width,p.labelHeight=n.labelHeight,p.labelWidth=n.labelWidth}}),n=!0,s.setupGrid(),s.draw())})},options:{},name:"axisLabels",version:"2.0b0"})}(jQuery);